# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type Subscription {
  id: ID!
  planTitle: String!
  planAmount: Int!
  billingFrequency: String!
  upcomingAmountDue: Int!
  upcomingDueDate: Int!
}

type CheckoutSession {
  id: ID!
}

type PresignedUploadPayload {
  fileId: String!
  url: String!
  fields: [AwsS3UploadDataField!]!
}

type AwsS3UploadDataField {
  key: String!
  value: String!
}

type PresignedImageAssetPayload {
  url: String!
}

type UserAvatar {
  url: String!
  fileName: String!
}

type User {
  id: String!
  email: String!
  subscription: Subscription
  avatar: UserAvatar
}

type UserGraphModelEdge {
  cursor: String!
  node: User!
}

type Query {
  viewer: User!
  presignedImageAccess(input: AccessImageByKeyInput!): PresignedImageAssetPayload!
  presignedUpload(input: AwsS3UploadOptions!): PresignedUploadPayload!
  stripePortalSession: String
  subscription: Subscription
}

input AccessImageByKeyInput {
  key: String!
}

input AwsS3UploadOptions {
  type: String!
  size: Int!
  fileName: String!
}

type Mutation {
  removeViewerAvatar: String!
  updateAvatar(input: UpdateAvatarInput!): String!
  changePassword(input: UpdatePasswordInput!): ChangePasswordResult!
  stripeCheckoutSession(input: StripeCheckoutSessionInput!): CheckoutSession!
}

input UpdateAvatarInput {
  fileName: String!
  fileType: String!
  remoteFileId: String!
}

union ChangePasswordResult = UpdatePasswordSuccess | UpdatePasswordFailed

type UpdatePasswordSuccess {
  message: String!
}

type UpdatePasswordFailed {
  message: String!
}

input UpdatePasswordInput {
  oldPassword: String!
  newPassword: String!
}

input StripeCheckoutSessionInput {
  plan: SubscriptionPlan!
}

enum SubscriptionPlan {
  PREMIUM_MONTHLY
  PREMIUM_ANNUAL
}
